<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>vCard Admin Panel</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Mono:wght@400;500&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet"/>
<style>
:root{--bg:#0d0f14;--surface:#151820;--surface2:#1c2030;--border:#252a3a;--accent:#5b8cff;--accent2:#ff6b6b;--accent3:#00e5a0;--text:#e8eaf0;--text2:#8b90a8;--text3:#545870;--radius:12px;--sidebar:265px;}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;overflow-x:hidden;}

/* LOGIN */
#login-screen{position:fixed;inset:0;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:1000;transition:opacity .4s ease;}
#login-screen.hidden{opacity:0;pointer-events:none;}
.login-box{background:var(--surface);border:1px solid var(--border);border-radius:20px;padding:48px 40px;width:400px;text-align:center;}
.login-logo{width:56px;height:56px;background:linear-gradient(135deg,var(--accent),#a78bff);border-radius:14px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;font-size:24px;}
.login-box h1{font-family:'Syne',sans-serif;font-size:26px;font-weight:800;margin-bottom:6px;}
.login-box p{color:var(--text2);font-size:13px;margin-bottom:32px;}
.input-group{text-align:left;margin-bottom:16px;}
.input-group label{font-size:11px;color:var(--text2);font-weight:500;text-transform:uppercase;letter-spacing:.8px;display:block;margin-bottom:6px;font-family:'DM Mono',monospace;}
.input-group input{width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:11px 14px;color:var(--text);font-family:'DM Sans',sans-serif;font-size:14px;outline:none;transition:border-color .2s;}
.input-group input:focus{border-color:var(--accent);}
.btn-login{width:100%;background:var(--accent);border:none;border-radius:8px;padding:13px;color:#fff;font-family:'Syne',sans-serif;font-weight:700;font-size:15px;cursor:pointer;margin-top:8px;transition:opacity .2s;}
.btn-login:hover{opacity:.88;}
.login-hint{color:var(--text3);font-size:12px;margin-top:16px;}

/* SIDEBAR */
.sidebar{width:var(--sidebar);background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;position:fixed;top:0;left:0;height:100vh;z-index:100;}
.sidebar-header{padding:24px 20px;border-bottom:1px solid var(--border);}
.sidebar-logo{display:flex;align-items:center;gap:10px;}
.logo-icon{width:36px;height:36px;background:linear-gradient(135deg,var(--accent),#a78bff);border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:17px;flex-shrink:0;}
.sidebar-logo .brand{font-family:'Syne',sans-serif;font-weight:800;font-size:16px;}
.sidebar-logo small{display:block;font-size:11px;color:var(--text3);font-family:'DM Mono',monospace;}
.sidebar-nav{flex:1;overflow-y:auto;padding:12px 0;}
.nav-section{padding:6px 20px;font-size:10px;color:var(--text3);text-transform:uppercase;letter-spacing:1.2px;font-weight:600;font-family:'DM Mono',monospace;margin-top:8px;}
.nav-item{display:flex;align-items:center;gap:11px;padding:10px 20px;cursor:pointer;transition:background .15s;color:var(--text2);font-size:14px;font-weight:500;position:relative;margin:1px 0;}
.nav-item:hover{background:var(--surface2);color:var(--text);}
.nav-item.active{background:rgba(91,140,255,.12);color:var(--accent);}
.nav-item.active::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--accent);border-radius:0 2px 2px 0;}
.nav-item .icon{width:30px;height:30px;border-radius:7px;display:flex;align-items:center;justify-content:center;font-size:14px;background:var(--surface2);flex-shrink:0;}
.nav-item.active .icon{background:rgba(91,140,255,.2);}
.sidebar-footer{padding:14px 20px;border-top:1px solid var(--border);}
.logout-btn{display:flex;align-items:center;gap:10px;color:var(--text2);font-size:13px;cursor:pointer;padding:8px 12px;border-radius:8px;transition:all .15s;}
.logout-btn:hover{background:rgba(255,107,107,.1);color:var(--accent2);}

/* MAIN */
.main{margin-left:var(--sidebar);flex:1;display:flex;flex-direction:column;min-height:100vh;}
.topbar{background:var(--surface);border-bottom:1px solid var(--border);padding:16px 32px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:50;}
.page-title{font-family:'Syne',sans-serif;font-weight:700;font-size:18px;}
.topbar-right{display:flex;align-items:center;gap:12px;}
.live-badge{background:rgba(0,229,160,.12);color:var(--accent3);border-radius:20px;padding:4px 12px;font-size:12px;font-weight:600;font-family:'DM Mono',monospace;display:flex;align-items:center;gap:6px;}
.live-dot{width:7px;height:7px;border-radius:50%;background:var(--accent3);animation:pulse 2s infinite;}
@keyframes pulse{0%,100%{opacity:1;}50%{opacity:.4;}}
.preview-btn{background:var(--accent);color:#fff;border:none;border-radius:8px;padding:8px 16px;font-size:13px;font-weight:600;cursor:pointer;font-family:'Syne',sans-serif;display:flex;align-items:center;gap:6px;text-decoration:none;}
.preview-btn:hover{opacity:.85;}
.content{padding:32px;flex:1;}
.section-panel{display:none;}
.section-panel.active{display:block;}

/* STAT CARDS */
.stat-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:28px;}
.stat-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;}
.stat-card .lbl{font-size:11px;color:var(--text2);text-transform:uppercase;letter-spacing:.8px;font-family:'DM Mono',monospace;margin-bottom:8px;}
.stat-card .val{font-family:'Syne',sans-serif;font-size:28px;font-weight:800;}
.stat-card .sub{font-size:12px;color:var(--text3);margin-top:4px;}
.stat-card.blue .val{color:var(--accent);}
.stat-card.green .val{color:var(--accent3);}
.stat-card.yellow .val{color:#ffc046;}
.stat-card.red .val{color:var(--accent2);}

/* CARDS */
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-bottom:20px;}
.card-title{font-family:'Syne',sans-serif;font-weight:700;font-size:15px;margin-bottom:20px;display:flex;align-items:center;gap:10px;}
.dot{width:8px;height:8px;border-radius:50%;background:var(--accent);flex-shrink:0;}
.dot-green{background:var(--accent3);}
.dot-red{background:var(--accent2);}

/* FORM */
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
.form-grid.full{grid-template-columns:1fr;}
.field{display:flex;flex-direction:column;gap:6px;}
.field label{font-size:11px;color:var(--text2);font-weight:500;text-transform:uppercase;letter-spacing:.7px;font-family:'DM Mono',monospace;}
.field input,.field textarea,.field select{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:10px 14px;color:var(--text);font-family:'DM Sans',sans-serif;font-size:14px;outline:none;transition:border-color .2s;resize:vertical;width:100%;}
.field input:focus,.field textarea:focus,.field select:focus{border-color:var(--accent);}
.field textarea{min-height:100px;}

/* BUTTONS */
.btn{border:none;border-radius:8px;padding:10px 20px;font-family:'Syne',sans-serif;font-weight:700;font-size:14px;cursor:pointer;transition:opacity .2s;display:inline-flex;align-items:center;gap:7px;}
.btn:hover{opacity:.85;}
.btn-primary{background:var(--accent);color:#fff;}
.btn-success{background:var(--accent3);color:#000;}
.btn-danger{background:var(--accent2);color:#fff;}
.btn-ghost{background:var(--surface2);color:var(--text2);border:1px solid var(--border);}
.btn-sm{padding:7px 14px;font-size:12px;}
.actions{display:flex;gap:10px;margin-top:20px;flex-wrap:wrap;}

/* SECTION HEADER */
.sec-header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:24px;gap:16px;}
.sec-header h2{font-family:'Syne',sans-serif;font-weight:800;font-size:20px;}
.sec-header p{font-size:13px;color:var(--text3);margin-top:4px;}

/* ITEMS GRID */
.items-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:14px;margin-top:4px;}
.item-card{background:var(--surface2);border:1px solid var(--border);border-radius:10px;overflow:hidden;}
.item-img-wrap{width:100%;height:120px;background:linear-gradient(135deg,#1c2236,#252a3a);display:flex;align-items:center;justify-content:center;font-size:30px;color:var(--text3);overflow:hidden;}
.item-img-wrap img{width:100%;height:100%;object-fit:cover;display:block;}
.item-body{padding:12px;}
.item-title{font-weight:600;font-size:14px;margin-bottom:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.item-btns{display:flex;gap:6px;}
.del-btn{background:rgba(255,107,107,.12);color:var(--accent2);border:none;border-radius:6px;padding:5px 10px;font-size:12px;cursor:pointer;font-family:'DM Mono',monospace;transition:background .15s;}
.del-btn:hover{background:rgba(255,107,107,.25);}
.edit-btn{background:rgba(91,140,255,.12);color:var(--accent);border:none;border-radius:6px;padding:5px 10px;font-size:12px;cursor:pointer;font-family:'DM Mono',monospace;transition:background .15s;}
.edit-btn:hover{background:rgba(91,140,255,.25);}
.add-card{background:var(--surface2);border:2px dashed var(--border);border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;min-height:190px;cursor:pointer;color:var(--text3);transition:all .2s;font-size:13px;}
.add-card:hover{border-color:var(--accent);color:var(--accent);}
.add-card .plus{font-size:28px;line-height:1;}

/* SOCIAL ROWS */
.social-row{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid var(--border);}
.social-row:last-child{border-bottom:none;}
.social-icon{width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:16px;flex-shrink:0;font-weight:700;}
.si-fb{background:rgba(24,119,242,.15);color:#1877f2;}
.si-ig{background:rgba(225,48,108,.15);color:#e1306c;}
.si-yt{background:rgba(255,0,0,.15);color:#ff0000;}
.si-tw{background:rgba(29,161,242,.15);color:#1da1f2;}
.si-li{background:rgba(0,119,181,.15);color:#0077b5;}
.si-wa{background:rgba(37,211,102,.15);color:#25d366;}
.si-gp{background:rgba(219,68,55,.15);color:#db4437;}
.social-name{width:90px;font-size:13px;color:var(--text2);flex-shrink:0;}
.social-row input{flex:1;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:9px 12px;color:var(--text);font-family:'DM Mono',monospace;font-size:12px;outline:none;transition:border-color .2s;}
.social-row input:focus{border-color:var(--accent);}

/* ENQUIRIES TABLE */
.eq-table{width:100%;border-collapse:collapse;font-size:13px;}
.eq-table th{padding:10px 14px;text-align:left;font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:.8px;font-family:'DM Mono',monospace;border-bottom:1px solid var(--border);}
.eq-table td{padding:12px 14px;border-bottom:1px solid rgba(255,255,255,.04);vertical-align:top;}
.eq-table tr:hover td{background:rgba(255,255,255,.02);}
.s-new{background:rgba(0,229,160,.1);color:var(--accent3);border-radius:20px;padding:3px 10px;font-size:11px;font-weight:600;font-family:'DM Mono';}
.s-read{background:rgba(139,144,168,.1);color:var(--text3);border-radius:20px;padding:3px 10px;font-size:11px;font-weight:600;font-family:'DM Mono';}

/* TOGGLES */
.toggle-row{display:flex;align-items:center;justify-content:space-between;padding:14px 0;border-bottom:1px solid var(--border);}
.toggle-row:last-child{border-bottom:none;}
.ti h4{font-size:14px;font-weight:500;margin-bottom:3px;}
.ti p{font-size:12px;color:var(--text3);}
.toggle{position:relative;width:42px;height:24px;flex-shrink:0;}
.toggle input{opacity:0;width:0;height:0;}
.slider{position:absolute;inset:0;background:var(--surface2);border:1px solid var(--border);border-radius:24px;cursor:pointer;transition:.3s;}
.slider::before{content:'';position:absolute;height:16px;width:16px;left:3px;bottom:3px;background:var(--text3);border-radius:50%;transition:.3s;}
.toggle input:checked+.slider{background:var(--accent);border-color:var(--accent);}
.toggle input:checked+.slider::before{transform:translateX(18px);background:#fff;}

/* COLOR ROW */
.color-row{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid var(--border);}
.color-row:last-child{border-bottom:none;}
.color-row label{flex:1;font-size:13px;font-weight:500;}
.color-row input[type=color]{width:42px;height:34px;border:none;border-radius:6px;background:transparent;cursor:pointer;padding:2px;}

/* MODAL */
.modal-ov{position:fixed;inset:0;background:rgba(0,0,0,.75);z-index:200;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .2s;}
.modal-ov.show{opacity:1;pointer-events:all;}
.modal-box{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:28px;width:500px;max-width:95vw;transform:translateY(20px);transition:transform .2s;}
.modal-ov.show .modal-box{transform:translateY(0);}
.modal-title{font-family:'Syne',sans-serif;font-weight:700;font-size:18px;margin-bottom:20px;}
.modal-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:20px;}

/* TOAST */
.toast{position:fixed;bottom:24px;right:24px;background:var(--surface);border:1px solid var(--accent3);border-radius:10px;padding:12px 20px;font-size:13px;font-weight:500;display:flex;align-items:center;gap:10px;z-index:999;transform:translateY(80px);opacity:0;transition:all .3s;}
.toast.show{transform:translateY(0);opacity:1;}
.toast-dot{width:8px;height:8px;border-radius:50%;background:var(--accent3);flex-shrink:0;}

/* VIEWS CHART */
.chart-bars{display:flex;align-items:flex-end;gap:5px;height:64px;margin-top:14px;}
.chart-bar{flex:1;border-radius:4px 4px 0 0;background:linear-gradient(to top,var(--accent),#a78bff);opacity:.7;min-height:4px;transition:opacity .2s;}
.chart-bar:hover{opacity:1;}
.chart-labels{display:flex;justify-content:space-between;margin-top:6px;font-size:11px;color:var(--text3);font-family:'DM Mono';}

::-webkit-scrollbar{width:5px;}
::-webkit-scrollbar-track{background:transparent;}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px;}
</style>
</head>
<body>

<!-- â”€â”€ LOGIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="login-screen">
  <div class="login-box">
    <div class="login-logo">âš¡</div>
    <h1>Admin Panel</h1>
    <p>Sign in to manage your vCard website</p>
    <div class="input-group">
      <label>Username</label>
      <input type="text" id="lu" placeholder="admin"/>
    </div>
    <div class="input-group">
      <label>Password</label>
      <input type="password" id="lp" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"/>
    </div>
    <button class="btn-login" onclick="doLogin()">Sign In â†’</button>
    <p class="login-hint">Default credentials: admin / admin123</p>
  </div>
</div>

<!-- â”€â”€ SIDEBAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<aside class="sidebar">
  <div class="sidebar-header">
    <div class="sidebar-logo">
      <div class="logo-icon">âš¡</div>
      <div><div class="brand">vCard Admin</div><small>Connected Panel</small></div>
    </div>
  </div>
  <nav class="sidebar-nav">
    <div class="nav-section">Dashboard</div>
    <div class="nav-item active" data-panel="dashboard"><div class="icon">ğŸ“Š</div>Overview</div>
    <div class="nav-section">Content Sections</div>
    <div class="nav-item" data-panel="profile"><div class="icon">ğŸ‘¤</div>Profile & Home</div>
    <div class="nav-item" data-panel="about"><div class="icon">ğŸ“„</div>About Us</div>
    <div class="nav-item" data-panel="services"><div class="icon">ğŸ›ï¸</div>Services</div>
    <div class="nav-item" data-panel="gallery"><div class="icon">ğŸ–¼ï¸</div>Gallery</div>
    <div class="nav-item" data-panel="videos"><div class="icon">ğŸ¬</div>Videos</div>
    <div class="nav-item" data-panel="payment"><div class="icon">ğŸ’³</div>Payment Methods</div>
    <div class="nav-item" data-panel="social"><div class="icon">ğŸ”—</div>Social Links</div>
    <div class="nav-section">Messages</div>
    <div class="nav-item" data-panel="enquiries">
      <div class="icon">ğŸ“¬</div>Enquiries
      <span id="eq-badge" style="margin-left:auto;background:var(--accent2);color:#fff;border-radius:10px;padding:1px 7px;font-size:11px;font-family:'DM Mono';font-weight:600;display:none;"></span>
    </div>
    <div class="nav-section">Configuration</div>
    <div class="nav-item" data-panel="appearance"><div class="icon">ğŸ¨</div>Appearance</div>
    <div class="nav-item" data-panel="settings"><div class="icon">âš™ï¸</div>Settings</div>
  </nav>
  <div class="sidebar-footer">
    <div class="logout-btn" onclick="doLogout()">ğŸšª Logout</div>
  </div>
</aside>

<!-- â”€â”€ MAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="main">
  <div class="topbar">
    <div class="page-title" id="page-title">Dashboard Overview</div>
    <div class="topbar-right">
      <span class="live-badge"><span class="live-dot"></span>Live Site</span>
      <a class="preview-btn" href="index.html" target="_blank">ğŸ‘ View Site</a>
    </div>
  </div>

  <div class="content">

    <!-- DASHBOARD -->
    <div class="section-panel active" id="panel-dashboard">
      <div class="stat-grid">
        <div class="stat-card blue"><div class="lbl">Total Views</div><div class="val" id="d-views">2,100</div><div class="sub">All time</div></div>
        <div class="stat-card green"><div class="lbl">Enquiries</div><div class="val" id="d-enq">0</div><div class="sub">Received messages</div></div>
        <div class="stat-card yellow"><div class="lbl">Services</div><div class="val" id="d-svc">6</div><div class="sub">Active items</div></div>
        <div class="stat-card red"><div class="lbl">Gallery</div><div class="val" id="d-gal">9</div><div class="sub">Images</div></div>
      </div>
      <div style="display:grid;grid-template-columns:2fr 1fr;gap:20px;">
        <div class="card">
          <div class="card-title"><span class="dot"></span>Weekly Views</div>
          <div class="chart-bars" id="chart-bars"></div>
          <div class="chart-labels"><span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span></div>
        </div>
        <div class="card">
          <div class="card-title"><span class="dot dot-green"></span>Site Summary</div>
          <div id="dash-summary" style="font-size:13px;color:var(--text2);line-height:2.4;"></div>
        </div>
      </div>
    </div>

    <!-- PROFILE & HOME -->
    <div class="section-panel" id="panel-profile">
      <div class="sec-header">
        <div><h2>Profile & Home</h2><p>Business details shown on the Home section of your vCard</p></div>
        <button class="btn btn-primary" onclick="saveSection('profile')">ğŸ’¾ Save Changes</button>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Business Information</div>
        <div class="form-grid">
          <div class="field"><label>Business Name</label><input id="f-businessName" type="text"/></div>
          <div class="field"><label>Owner Name</label><input id="f-ownerName" type="text"/></div>
          <div class="field"><label>Business Position / Title</label><input id="f-bizPosition" type="text"/></div>
          <div class="field"><label>Person Type (Owner / Manager)</label><input id="f-personType" type="text"/></div>
        </div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Contact Details</div>
        <div class="form-grid">
          <div class="field"><label>Phone Number</label><input id="f-phone" type="text"/></div>
          <div class="field"><label>Email Address</label><input id="f-email" type="email"/></div>
          <div class="field"><label>Fax Number</label><input id="f-fax" type="text"/></div>
          <div class="field"><label>Website URL</label><input id="f-websiteUrl" type="url"/></div>
          <div class="field" style="grid-column:1/-1"><label>Address</label><input id="f-address" type="text"/></div>
          <div class="field"><label>Google Maps URL</label><input id="f-mapsUrl" type="url"/></div>
          <div class="field"><label>WhatsApp Share URL</label><input id="f-whatsappShareUrl" type="url"/></div>
        </div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Profile Image</div>
        <div class="form-grid">
          <div class="field"><label>Profile Image Path or URL</label><input id="f-profileImg" type="text" placeholder="assets/images/profile.png"/></div>
        </div>
        <p style="font-size:12px;color:var(--text3);margin-top:10px;">Enter the path relative to index.html (e.g. <code style="color:var(--accent);font-family:'DM Mono'">assets/images/profile.png</code>) or a full URL.</p>
      </div>
      <div class="actions"><button class="btn btn-primary" onclick="saveSection('profile')">ğŸ’¾ Save Profile</button></div>
    </div>

    <!-- ABOUT -->
    <div class="section-panel" id="panel-about">
      <div class="sec-header">
        <div><h2>About Us</h2><p>Edit the About section content</p></div>
        <button class="btn btn-primary" onclick="saveSection('about')">ğŸ’¾ Save Changes</button>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Section Heading</div>
        <div class="form-grid">
          <div class="field"><label>Title</label><input id="f-aboutTitle" type="text"/></div>
          <div class="field"><label>Subtitle (inside span)</label><input id="f-aboutSubtitle" type="text"/></div>
        </div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>About Content</div>
        <div class="form-grid full">
          <div class="field"><label>Paragraph 1</label><textarea id="f-aboutPara1" style="min-height:130px;"></textarea></div>
          <div class="field"><label>Paragraph 2</label><textarea id="f-aboutPara2" style="min-height:130px;"></textarea></div>
        </div>
      </div>
      <div class="actions"><button class="btn btn-primary" onclick="saveSection('about')">ğŸ’¾ Save About</button></div>
    </div>

    <!-- SERVICES -->
    <div class="section-panel" id="panel-services">
      <div class="sec-header">
        <div><h2>Services / Products</h2><p>Manage your service cards shown in the Services section</p></div>
        <button class="btn btn-primary" onclick="openItemModal('services')">+ Add Service</button>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Section Heading</div>
        <div class="form-grid">
          <div class="field"><label>Title</label><input id="f-serviceTitle" type="text"/></div>
          <div class="field"><label>Subtitle</label><input id="f-serviceSubtitle" type="text"/></div>
        </div>
        <div class="actions"><button class="btn btn-ghost btn-sm" onclick="saveHeading('serviceTitle','serviceSubtitle')">ğŸ’¾ Save Heading</button></div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Service Items</div>
        <div class="items-grid" id="services-grid"></div>
      </div>
    </div>

    <!-- GALLERY -->
    <div class="section-panel" id="panel-gallery">
      <div class="sec-header">
        <div><h2>Gallery</h2><p>Manage gallery images</p></div>
        <button class="btn btn-primary" onclick="openItemModal('gallery')">+ Add Image</button>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Section Heading</div>
        <div class="form-grid">
          <div class="field"><label>Title</label><input id="f-galleryTitle" type="text"/></div>
          <div class="field"><label>Subtitle</label><input id="f-gallerySubtitle" type="text"/></div>
        </div>
        <div class="actions"><button class="btn btn-ghost btn-sm" onclick="saveHeading('galleryTitle','gallerySubtitle')">ğŸ’¾ Save Heading</button></div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Gallery Images</div>
        <div class="items-grid" id="gallery-grid"></div>
      </div>
    </div>

    <!-- VIDEOS -->
    <div class="section-panel" id="panel-videos">
      <div class="sec-header">
        <div><h2>Videos</h2><p>Manage YouTube embeds shown in the Videos section</p></div>
        <button class="btn btn-primary" onclick="openVideoModal()">+ Add Video</button>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Section Heading</div>
        <div class="form-grid">
          <div class="field"><label>Title</label><input id="f-videoTitle" type="text"/></div>
          <div class="field"><label>Subtitle</label><input id="f-videoSubtitle" type="text"/></div>
        </div>
        <div class="actions"><button class="btn btn-ghost btn-sm" onclick="saveHeading('videoTitle','videoSubtitle')">ğŸ’¾ Save Heading</button></div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>YouTube Videos</div>
        <div id="videos-list"></div>
      </div>
    </div>

    <!-- PAYMENT -->
    <div class="section-panel" id="panel-payment">
      <div class="sec-header">
        <div><h2>Payment Methods</h2><p>Manage accepted payment options</p></div>
        <button class="btn btn-primary" onclick="openItemModal('payment')">+ Add Method</button>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Section Heading</div>
        <div class="form-grid">
          <div class="field"><label>Title</label><input id="f-paymentTitle" type="text"/></div>
          <div class="field"><label>Subtitle</label><input id="f-paymentSubtitle" type="text"/></div>
        </div>
        <div class="actions"><button class="btn btn-ghost btn-sm" onclick="saveHeading('paymentTitle','paymentSubtitle')">ğŸ’¾ Save Heading</button></div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Payment Items</div>
        <div class="items-grid" id="payment-grid"></div>
      </div>
    </div>

    <!-- SOCIAL -->
    <div class="section-panel" id="panel-social">
      <div class="sec-header">
        <div><h2>Social Links</h2><p>Edit your social media profile URLs</p></div>
        <button class="btn btn-primary" onclick="saveSocial()">ğŸ’¾ Save All</button>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Social Media Profiles</div>
        <div class="social-row"><div class="social-icon si-fb">f</div><span class="social-name">Facebook</span><input id="s-facebook" type="url" placeholder="https://facebook.com/yourpage"/></div>
        <div class="social-row"><div class="social-icon si-ig">ğŸ“·</div><span class="social-name">Instagram</span><input id="s-instagram" type="url" placeholder="https://instagram.com/yourhandle"/></div>
        <div class="social-row"><div class="social-icon si-yt">â–¶</div><span class="social-name">YouTube</span><input id="s-youtube" type="url" placeholder="https://youtube.com/@channel"/></div>
        <div class="social-row"><div class="social-icon si-gp" style="font-size:12px;font-weight:800;">G+</div><span class="social-name">Google+</span><input id="s-googleplus" type="url" placeholder="https://google.com/+yourpage"/></div>
        <div class="social-row"><div class="social-icon si-tw">ğŸ¦</div><span class="social-name">Twitter / X</span><input id="s-twitter" type="url" placeholder="https://twitter.com/yourhandle"/></div>
        <div class="social-row"><div class="social-icon si-li">in</div><span class="social-name">LinkedIn</span><input id="s-linkedin" type="url" placeholder="https://linkedin.com/in/yourprofile"/></div>
      </div>
    </div>

    <!-- ENQUIRIES -->
    <div class="section-panel" id="panel-enquiries">
      <div class="sec-header">
        <div><h2>Enquiries</h2><p>Messages submitted by visitors through your contact form</p></div>
        <div style="display:flex;gap:10px;">
          <button class="btn btn-ghost btn-sm" onclick="markAllRead()">âœ“ Mark All Read</button>
          <button class="btn btn-danger btn-sm" onclick="clearAllEnq()">ğŸ—‘ï¸ Clear All</button>
        </div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot dot-red"></span>Received Messages</div>
        <div style="overflow-x:auto;">
          <table class="eq-table">
            <thead><tr><th>Name</th><th>Email</th><th>Phone</th><th>Subject</th><th>Message</th><th>Date</th><th>Status</th><th>Actions</th></tr></thead>
            <tbody id="eq-tbody"></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- APPEARANCE -->
    <div class="section-panel" id="panel-appearance">
      <div class="sec-header">
        <div><h2>Appearance</h2><p>Control section visibility and color themes</p></div>
        <button class="btn btn-primary" onclick="saveAppearance()">ğŸ’¾ Save Appearance</button>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Accent Color</div>
        <div class="color-row"><label>Button & Link Color</label><input type="color" id="f-accentColor" value="#5b8cff"/><span id="accent-hex" style="font-family:'DM Mono';font-size:12px;color:var(--text3);">#5b8cff</span></div>
        <div class="actions"><button class="btn btn-ghost btn-sm" onclick="f('f-accentColor').value='#5b8cff';f('accent-hex').textContent='#5b8cff';">â†º Reset Default</button></div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>Section Visibility</div>
        <div class="toggle-row"><div class="ti"><h4>About Section</h4><p>About Us content</p></div><label class="toggle"><input type="checkbox" id="t-showAbout" checked/><span class="slider"></span></label></div>
        <div class="toggle-row"><div class="ti"><h4>Services Section</h4><p>Products &amp; services grid</p></div><label class="toggle"><input type="checkbox" id="t-showService" checked/><span class="slider"></span></label></div>
        <div class="toggle-row"><div class="ti"><h4>Gallery Section</h4><p>Photo gallery grid</p></div><label class="toggle"><input type="checkbox" id="t-showGallery" checked/><span class="slider"></span></label></div>
        <div class="toggle-row"><div class="ti"><h4>Videos Section</h4><p>YouTube embeds</p></div><label class="toggle"><input type="checkbox" id="t-showVideo" checked/><span class="slider"></span></label></div>
        <div class="toggle-row"><div class="ti"><h4>Payment Section</h4><p>Accepted payment methods</p></div><label class="toggle"><input type="checkbox" id="t-showPayment" checked/><span class="slider"></span></label></div>
        <div class="toggle-row"><div class="ti"><h4>Enquiry / Contact Form</h4><p>Allow visitors to send messages</p></div><label class="toggle"><input type="checkbox" id="t-showEnquiry" checked/><span class="slider"></span></label></div>
        <div class="toggle-row"><div class="ti"><h4>View Counter</h4><p>Display total page views</p></div><label class="toggle"><input type="checkbox" id="t-showViewCounter" checked/><span class="slider"></span></label></div>
        <div class="toggle-row"><div class="ti"><h4>Particle Background</h4><p>Animated particles effect</p></div><label class="toggle"><input type="checkbox" id="t-showParticles" checked/><span class="slider"></span></label></div>
        <div class="toggle-row"><div class="ti"><h4>Dark/Light Theme Toggle</h4><p>Theme switcher for visitors</p></div><label class="toggle"><input type="checkbox" id="t-showThemeToggle" checked/><span class="slider"></span></label></div>
      </div>
    </div>

    <!-- SETTINGS -->
    <div class="section-panel" id="panel-settings">
      <div class="sec-header"><div><h2>Settings</h2><p>Admin credentials, SEO meta, and analytics</p></div></div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>View Counter</div>
        <div class="form-grid">
          <div class="field"><label>Display Value</label><input id="f-viewCount" type="text" placeholder="2,100"/></div>
        </div>
        <div class="actions"><button class="btn btn-ghost btn-sm" onclick="saveField('viewCount','f-viewCount')">ğŸ’¾ Save Counter</button><button class="btn btn-danger btn-sm" onclick="resetViews()">â†º Reset to 0</button></div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot"></span>SEO &amp; Meta Tags</div>
        <div class="form-grid full">
          <div class="field"><label>Page Title</label><input id="f-metaTitle" type="text"/></div>
          <div class="field"><label>Meta Description</label><textarea id="f-metaDesc" style="min-height:80px;"></textarea></div>
        </div>
        <div class="actions"><button class="btn btn-primary" onclick="saveSEO()">ğŸ’¾ Save SEO</button></div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot dot-red"></span>Change Admin Password</div>
        <div class="form-grid">
          <div class="field"><label>Current Password</label><input type="password" id="pw-current" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"/></div>
          <div class="field"><label>New Password</label><input type="password" id="pw-new" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"/></div>
        </div>
        <div class="actions"><button class="btn btn-primary" onclick="changePassword()">ğŸ”’ Update Password</button></div>
      </div>
      <div class="card">
        <div class="card-title"><span class="dot dot-red"></span>Danger Zone</div>
        <div class="toggle-row"><div class="ti"><h4>Reset All Content to Defaults</h4><p>Clears all admin changes â€” restores original HTML content</p></div><button class="btn btn-danger btn-sm" onclick="resetAll()">Reset Everything</button></div>
        <div class="toggle-row"><div class="ti"><h4>Export Settings</h4><p>Download current admin data as JSON</p></div><button class="btn btn-ghost btn-sm" onclick="exportData()">â¬‡ï¸ Export JSON</button></div>
      </div>
    </div>

  </div><!-- /content -->
</div><!-- /main -->

<!-- â”€â”€ ITEM MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="modal-ov" id="item-modal">
  <div class="modal-box">
    <div class="modal-title" id="item-modal-title">Add Item</div>
    <div class="form-grid full" style="gap:16px;">
      <div class="field"><label>Title / Name</label><input type="text" id="mi-title" placeholder="e.g. Web Design"/></div>
      <div class="field"><label>Image path or URL</label><input type="text" id="mi-img" placeholder="assets/images/product.png"/></div>
    </div>
    <div class="modal-actions">
      <button class="btn btn-ghost" onclick="closeItemModal()">Cancel</button>
      <button class="btn btn-primary" id="item-modal-save">ğŸ’¾ Save</button>
    </div>
  </div>
</div>

<!-- â”€â”€ VIDEO MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="modal-ov" id="video-modal">
  <div class="modal-box">
    <div class="modal-title" id="vid-modal-title">Add YouTube Video</div>
    <div class="form-grid full" style="gap:16px;">
      <div class="field"><label>YouTube Video ID</label><input type="text" id="vi-id" placeholder="e.g. dQw4w9WgXcQ"/><p style="font-size:11px;color:var(--text3);margin-top:4px;">The ID is the part after <code style="color:var(--accent);font-family:'DM Mono'">youtube.com/watch?v=</code></p></div>
      <div class="field"><label>Video Title / Label</label><input type="text" id="vi-title" placeholder="e.g. Company Tour"/></div>
    </div>
    <div class="modal-actions">
      <button class="btn btn-ghost" onclick="closeVideoModal()">Cancel</button>
      <button class="btn btn-primary" id="vid-modal-save">ğŸ’¾ Save</button>
    </div>
  </div>
</div>

<!-- â”€â”€ TOAST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="toast" id="toast"><div class="toast-dot"></div><span id="toast-msg">Saved!</span></div>

<script>
'use strict';

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// CONSTANTS
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var STORE_KEY = 'vcardAdminData';
var ENQ_KEY   = 'vcardEnquiries';
var AUTH_KEY  = 'vcardAdminCreds';

var DEFAULT_DATA = {
  businessName:'Business Name', ownerName:'Owner Name', bizPosition:'Business Position', personType:'',
  profileImg:'assets/images/profile.png',
  phone:'+91 123 453 53467', email:'demo@gmail.com', fax:'213 23443',
  address:'Row house near star, Bombay 394180',
  mapsUrl:'https://goo.gl/maps/h12gRmpKxZgLYFts7',
  websiteUrl:'https://nishantthummar.tech/envato/html/modern-vcard/',
  whatsappShareUrl:'https://nishantthummar.tech/envato/html/modern-vcard/',
  aboutTitle:'About us', aboutSubtitle:'Know More',
  aboutPara1:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis, quibusdam. Distinctio nisi cupiditate amet quisquam tempore voluptate dolorem quas eveniet sint.',
  aboutPara2:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempore, optio eligendi quidem molestiae ea ex voluptatem nobis quis eum nam libero distinctio temporibus.',
  serviceTitle:'Services', serviceSubtitle:'Products',
  galleryTitle:'Gallery', gallerySubtitle:'Our Images',
  videoTitle:'Videos', videoSubtitle:'Youtube',
  paymentTitle:'Payment', paymentSubtitle:'We Accept',
  socialFacebook:'#', socialInstagram:'#', socialYoutube:'#',
  socialGoogleplus:'#', socialTwitter:'#', socialLinkedin:'#',
  showAbout:true, showService:true, showGallery:true, showVideo:true,
  showPayment:true, showEnquiry:true, showViewCounter:true,
  showParticles:true, showThemeToggle:true,
  viewCount:'2,100', accentColor:'',
  metaTitle:'Elevate Modern Business vCard | Personal Portfolio for Business',
  metaDesc:'Digital business card template, business card design, restaurant menu card design',
  services:[
    {title:'Service title',img:'assets/images/product.png'},
    {title:'Service title',img:'assets/images/product.png'},
    {title:'Service title',img:'assets/images/product.png'},
    {title:'Service title',img:'assets/images/product.png'},
    {title:'Service title',img:'assets/images/product.png'},
    {title:'Service title',img:'assets/images/product.png'}
  ],
  gallery:[
    {img:'assets/images/gallery.png'},{img:'assets/images/gallery.png'},
    {img:'assets/images/gallery.png'},{img:'assets/images/gallery.png'},
    {img:'assets/images/gallery.png'},{img:'assets/images/gallery.png'},
    {img:'assets/images/gallery.png'},{img:'assets/images/gallery.png'},
    {img:'assets/images/gallery.png'}
  ],
  videos:[{id:'QbX9xguVvdA12',title:'Video 1'},{id:'SlezH4b156U12',title:'Video 2'}],
  payment:[
    {title:'Payment Name',img:'assets/images/payment.png'},
    {title:'Payment Name',img:'assets/images/payment.png'},
    {title:'Payment Name',img:'assets/images/payment.png'}
  ]
};

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STATE
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var adminData = {};
var editCtx = {type:'', idx:-1};

function loadData(){
  var saved = {};
  try{ saved = JSON.parse(localStorage.getItem(STORE_KEY)) || {}; }catch(e){}
  adminData = Object.assign({}, DEFAULT_DATA, saved);
  // deep copy arrays
  ['services','gallery','videos','payment'].forEach(function(k){
    if(saved[k]) adminData[k] = JSON.parse(JSON.stringify(saved[k]));
    else adminData[k] = JSON.parse(JSON.stringify(DEFAULT_DATA[k]));
  });
}

function saveData(){
  localStorage.setItem(STORE_KEY, JSON.stringify(adminData));
}

function f(id){ return document.getElementById(id); }

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// AUTH
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getCreds(){
  var c = {};
  try{ c = JSON.parse(localStorage.getItem(AUTH_KEY)) || {}; }catch(e){}
  return { user: c.user||'admin', pass: c.pass||'admin123' };
}

function doLogin(){
  var u = f('lu').value.trim();
  var p = f('lp').value;
  var creds = getCreds();
  if(u === creds.user && p === creds.pass){
    f('login-screen').classList.add('hidden');
    toast('Welcome back! Changes will apply to index.html instantly.');
  } else {
    f('lu').style.borderColor='var(--accent2)';
    f('lp').style.borderColor='var(--accent2)';
    setTimeout(function(){ f('lu').style.borderColor=''; f('lp').style.borderColor=''; },1500);
  }
}
f('lp').addEventListener('keydown',function(e){ if(e.key==='Enter') doLogin(); });
f('lu').addEventListener('keydown',function(e){ if(e.key==='Enter') doLogin(); });

function doLogout(){
  f('login-screen').classList.remove('hidden');
  f('lu').value=''; f('lp').value='';
}

function changePassword(){
  var cur = f('pw-current').value;
  var nw  = f('pw-new').value;
  var creds = getCreds();
  if(cur !== creds.pass){ toast('âŒ Current password is incorrect'); return; }
  if(!nw || nw.length < 4){ toast('âŒ New password must be at least 4 characters'); return; }
  localStorage.setItem(AUTH_KEY, JSON.stringify({user: creds.user, pass: nw}));
  f('pw-current').value=''; f('pw-new').value='';
  toast('âœ… Password updated successfully!');
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// NAVIGATION
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var pageTitles = {
  dashboard:'Dashboard Overview', profile:'Profile & Home', about:'About Us',
  services:'Services / Products', gallery:'Gallery', videos:'Videos',
  payment:'Payment Methods', social:'Social Links', enquiries:'Enquiries',
  appearance:'Appearance', settings:'Settings'
};

document.querySelectorAll('.nav-item').forEach(function(el){
  el.addEventListener('click', function(){
    var panel = this.getAttribute('data-panel');
    document.querySelectorAll('.section-panel').forEach(function(p){ p.classList.remove('active'); });
    document.querySelectorAll('.nav-item').forEach(function(n){ n.classList.remove('active'); });
    f('panel-' + panel).classList.add('active');
    this.classList.add('active');
    f('page-title').textContent = pageTitles[panel] || '';
    if(panel === 'enquiries') renderEnquiries();
    if(panel === 'dashboard') updateDashboard();
  });
});

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// TOAST
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var toastTimer;
function toast(msg){
  clearTimeout(toastTimer);
  f('toast-msg').textContent = msg;
  f('toast').classList.add('show');
  toastTimer = setTimeout(function(){ f('toast').classList.remove('show'); }, 3000);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// POPULATE FORMS FROM adminData
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function populateForms(){
  var fields = ['businessName','ownerName','bizPosition','personType','profileImg',
    'phone','email','fax','address','mapsUrl','websiteUrl','whatsappShareUrl',
    'aboutTitle','aboutSubtitle','aboutPara1','aboutPara2',
    'serviceTitle','serviceSubtitle','galleryTitle','gallerySubtitle',
    'videoTitle','videoSubtitle','paymentTitle','paymentSubtitle',
    'viewCount','metaTitle','metaDesc','accentColor'];
  fields.forEach(function(k){
    var el = f('f-'+k);
    if(el && adminData[k] !== undefined) el.value = adminData[k];
  });

  // Social
  var soc = {facebook:'socialFacebook',instagram:'socialInstagram',youtube:'socialYoutube',
    googleplus:'socialGoogleplus',twitter:'socialTwitter',linkedin:'socialLinkedin'};
  Object.keys(soc).forEach(function(k){
    var el = f('s-'+k);
    if(el) el.value = adminData[soc[k]] || '';
  });

  // Toggles
  var toggles = ['showAbout','showService','showGallery','showVideo','showPayment',
    'showEnquiry','showViewCounter','showParticles','showThemeToggle'];
  toggles.forEach(function(k){
    var el = f('t-'+k);
    if(el) el.checked = adminData[k] !== false;
  });

  // Accent color hex display
  var ac = f('f-accentColor');
  if(ac){ ac.addEventListener('input',function(){ f('accent-hex').textContent = this.value; }); }

  renderAllGrids();
  updateDashboard();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// SAVE SECTIONS
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function saveSection(section){
  if(section === 'profile'){
    var keys = ['businessName','ownerName','bizPosition','personType','profileImg',
      'phone','email','fax','address','mapsUrl','websiteUrl','whatsappShareUrl'];
    keys.forEach(function(k){ var el = f('f-'+k); if(el) adminData[k] = el.value; });
    saveData(); toast('âœ… Profile saved â€” reload index.html to see changes');
  }
  if(section === 'about'){
    ['aboutTitle','aboutSubtitle','aboutPara1','aboutPara2'].forEach(function(k){
      var el = f('f-'+k); if(el) adminData[k] = el.value;
    });
    saveData(); toast('âœ… About section saved');
  }
}

function saveHeading(k1, k2){
  var e1 = f('f-'+k1), e2 = f('f-'+k2);
  if(e1) adminData[k1] = e1.value;
  if(e2) adminData[k2] = e2.value;
  saveData(); toast('âœ… Heading saved');
}

function saveField(key, fieldId){
  var el = f(fieldId);
  if(el) adminData[key] = el.value;
  saveData(); toast('âœ… Saved');
}

function saveSocial(){
  adminData.socialFacebook  = f('s-facebook').value;
  adminData.socialInstagram = f('s-instagram').value;
  adminData.socialYoutube   = f('s-youtube').value;
  adminData.socialGoogleplus= f('s-googleplus').value;
  adminData.socialTwitter   = f('s-twitter').value;
  adminData.socialLinkedin  = f('s-linkedin').value;
  saveData(); toast('âœ… Social links saved');
}

function saveAppearance(){
  adminData.accentColor = f('f-accentColor').value;
  var toggles = ['showAbout','showService','showGallery','showVideo','showPayment',
    'showEnquiry','showViewCounter','showParticles','showThemeToggle'];
  toggles.forEach(function(k){ var el = f('t-'+k); if(el) adminData[k] = el.checked; });
  saveData(); toast('âœ… Appearance saved â€” reload index.html to see changes');
}

function saveSEO(){
  adminData.metaTitle = f('f-metaTitle').value;
  adminData.metaDesc  = f('f-metaDesc').value;
  saveData(); toast('âœ… SEO meta saved');
}

function resetViews(){
  adminData.viewCount = '0';
  var el = f('f-viewCount'); if(el) el.value = '0';
  saveData(); toast('View counter reset to 0');
}

function resetAll(){
  if(!confirm('This will clear ALL admin changes and restore the original content. Continue?')) return;
  localStorage.removeItem(STORE_KEY);
  loadData(); populateForms();
  toast('âœ… All content reset to defaults');
}

function exportData(){
  var json = JSON.stringify(adminData, null, 2);
  var blob = new Blob([json], {type:'application/json'});
  var a = document.createElement('a'); a.href = URL.createObjectURL(blob);
  a.download = 'vcardAdminData.json'; a.click();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ITEMS GRIDS (Services, Gallery, Payment)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var itemModalCtx = {type:'', idx:-1};

function openItemModal(type, idx){
  itemModalCtx = {type:type, idx: idx !== undefined ? idx : -1};
  f('item-modal-title').textContent = idx !== undefined ? 'Edit Item' : 'Add Item';
  var item = idx !== undefined ? adminData[type][idx] : {title:'',img:''};
  f('mi-title').value = item.title || '';
  f('mi-img').value   = item.img   || '';
  f('item-modal').classList.add('show');
  f('mi-title').focus();
}

function closeItemModal(){ f('item-modal').classList.remove('show'); }

f('item-modal-save').onclick = function(){
  var t = f('mi-title').value.trim();
  var img = f('mi-img').value.trim();
  var ctx = itemModalCtx;
  if(ctx.idx === -1){
    adminData[ctx.type].push({title:t, img:img});
  } else {
    adminData[ctx.type][ctx.idx] = {title:t, img:img};
  }
  saveData(); renderGrid(ctx.type); closeItemModal();
  toast('âœ… Item saved â€” reload index.html to see changes');
  updateDashboard();
};

function delItem(type, idx){
  if(!confirm('Delete this item?')) return;
  adminData[type].splice(idx,1);
  saveData(); renderGrid(type);
  toast('Item deleted'); updateDashboard();
}

function renderGrid(type){
  var gridId = type+'-grid';
  var g = f(gridId); if(!g) return;
  g.innerHTML = '';
  adminData[type].forEach(function(item, i){
    var img = item.img || '';
    var card = document.createElement('div');
    card.className = 'item-card';
    card.innerHTML =
      '<div class="item-img-wrap">' + (img ? '<img src="'+img+'" onerror="this.style.display=\'none\'">' : 'ğŸ–¼ï¸') + '</div>' +
      '<div class="item-body"><div class="item-title">'+(item.title||'(no title)')+'</div>' +
      '<div class="item-btns">' +
      '<button class="edit-btn" onclick="openItemModal(\''+type+'\','+i+')">âœï¸ Edit</button>' +
      '<button class="del-btn" onclick="delItem(\''+type+'\','+i+')">ğŸ—‘ï¸</button>' +
      '</div></div>';
    g.appendChild(card);
  });
  // Add button
  var addCard = document.createElement('div');
  addCard.className = 'add-card';
  addCard.innerHTML = '<div class="plus">+</div><span>Add Item</span>';
  addCard.onclick = function(){ openItemModal(type); };
  g.appendChild(addCard);
}

function renderAllGrids(){
  renderGrid('services'); renderGrid('gallery'); renderGrid('payment'); renderVideos();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// VIDEOS
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var vidEditIdx = -1;

function openVideoModal(idx){
  vidEditIdx = idx !== undefined ? idx : -1;
  f('vid-modal-title').textContent = idx !== undefined ? 'Edit Video' : 'Add YouTube Video';
  var item = idx !== undefined ? adminData.videos[idx] : {id:'',title:''};
  f('vi-id').value    = item.id    || '';
  f('vi-title').value = item.title || '';
  f('video-modal').classList.add('show');
  f('vi-id').focus();
}

function closeVideoModal(){ f('video-modal').classList.remove('show'); }

f('vid-modal-save').onclick = function(){
  var id = f('vi-id').value.trim();
  var title = f('vi-title').value.trim();
  if(!id){ toast('âŒ Please enter a YouTube Video ID'); return; }
  if(vidEditIdx === -1){
    adminData.videos.push({id:id, title:title});
  } else {
    adminData.videos[vidEditIdx] = {id:id, title:title};
  }
  saveData(); renderVideos(); closeVideoModal();
  toast('âœ… Video saved');
};

function delVideo(idx){
  if(!confirm('Remove this video?')) return;
  adminData.videos.splice(idx,1);
  saveData(); renderVideos(); toast('Video removed');
}

function renderVideos(){
  var list = f('videos-list'); if(!list) return;
  if(!adminData.videos.length){
    list.innerHTML = '<div style="text-align:center;padding:32px;color:var(--text3);">ğŸ“­ No videos added yet</div>';
    return;
  }
  list.innerHTML = '';
  adminData.videos.forEach(function(v, i){
    var row = document.createElement('div');
    row.style.cssText = 'display:flex;align-items:center;gap:14px;padding:14px 0;border-bottom:1px solid var(--border);';
    row.innerHTML =
      '<div style="width:54px;height:54px;background:rgba(255,0,0,.1);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:24px;flex-shrink:0;">â–¶ï¸</div>' +
      '<div style="flex:1;min-width:0;">' +
        '<div style="font-size:14px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">'+(v.title||'Untitled')+'</div>' +
        '<div style="font-size:12px;color:var(--text3);font-family:\'DM Mono\',monospace;margin-top:3px;">ID: '+v.id+'</div>' +
      '</div>' +
      '<button class="edit-btn" onclick="openVideoModal('+i+')">âœï¸ Edit</button>' +
      '<button class="del-btn" onclick="delVideo('+i+')">ğŸ—‘ï¸</button>';
    list.appendChild(row);
  });
  // Add a button after list
  var addRow = document.createElement('div');
  addRow.style.cssText = 'padding:16px 0 4px;';
  addRow.innerHTML = '<button class="btn btn-ghost btn-sm" onclick="openVideoModal()">+ Add Another Video</button>';
  list.appendChild(addRow);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ENQUIRIES
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function loadEnquiries(){
  try{ return JSON.parse(localStorage.getItem(ENQ_KEY)) || []; }catch(e){ return []; }
}
function saveEnquiries(list){ localStorage.setItem(ENQ_KEY, JSON.stringify(list)); }

function renderEnquiries(){
  var list = loadEnquiries();
  var tbody = f('eq-tbody'); if(!tbody) return;
  // Update badge
  var unread = list.filter(function(e){ return e.status==='new'; }).length;
  var badge = f('eq-badge');
  if(badge){ badge.textContent = unread; badge.style.display = unread ? '' : 'none'; }
  f('d-enq').textContent = list.length;

  if(!list.length){
    tbody.innerHTML = '<tr><td colspan="8" style="text-align:center;padding:40px;color:var(--text3);">ğŸ“­ No enquiries received yet</td></tr>';
    return;
  }
  tbody.innerHTML = list.map(function(e,i){
    return '<tr>' +
      '<td style="font-weight:600;white-space:nowrap">'+esc(e.name)+'</td>' +
      '<td style="color:var(--text2)">'+esc(e.email)+'</td>' +
      '<td style="font-family:\'DM Mono\',monospace;font-size:12px;color:var(--text2);white-space:nowrap">'+esc(e.phone)+'</td>' +
      '<td style="color:var(--text2)">'+esc(e.subject||'')+'</td>' +
      '<td style="max-width:180px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--text2)" title="'+esc(e.message)+'">'+esc(e.message)+'</td>' +
      '<td style="font-family:\'DM Mono\',monospace;font-size:11px;color:var(--text3);white-space:nowrap">'+esc(e.date)+'</td>' +
      '<td><span class="'+(e.status==='new'?'s-new':'s-read')+'">'+(e.status==='new'?'ğŸ”µ New':'âœ“ Read')+'</span></td>' +
      '<td style="white-space:nowrap">' +
        (e.status==='new'?'<button class="edit-btn" onclick="markRead('+i+')">âœ“ Read</button> ':'') +
        '<button class="del-btn" onclick="delEnq('+i+')">ğŸ—‘ï¸</button>' +
      '</td></tr>';
  }).join('');
}

function esc(s){ return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }

function markRead(i){
  var list = loadEnquiries();
  list[i].status = 'read';
  saveEnquiries(list); renderEnquiries(); toast('Marked as read');
}
function delEnq(i){
  if(!confirm('Delete this enquiry?')) return;
  var list = loadEnquiries();
  list.splice(i,1);
  saveEnquiries(list); renderEnquiries(); toast('Enquiry deleted');
}
function markAllRead(){
  var list = loadEnquiries();
  list.forEach(function(e){ e.status='read'; });
  saveEnquiries(list); renderEnquiries(); toast('All marked as read');
}
function clearAllEnq(){
  if(!confirm('Delete ALL enquiries permanently?')) return;
  saveEnquiries([]); renderEnquiries(); toast('All enquiries cleared');
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// DASHBOARD
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function updateDashboard(){
  f('d-views').textContent = adminData.viewCount || '2,100';
  f('d-svc').textContent  = adminData.services.length;
  f('d-gal').textContent  = adminData.gallery.length;
  var enqs = loadEnquiries();
  f('d-enq').textContent  = enqs.length;
  var badge = f('eq-badge');
  var unread = enqs.filter(function(e){ return e.status==='new'; }).length;
  if(badge){ badge.textContent = unread; badge.style.display = unread ? '' : 'none'; }

  var summary = f('dash-summary');
  if(summary){
    summary.innerHTML =
      'ğŸ¢ <b>'+adminData.businessName+'</b><br>' +
      'ğŸ“± '+adminData.phone+'<br>' +
      'ğŸ“§ '+adminData.email+'<br>' +
      'ğŸ“ '+adminData.address.substring(0,30)+'...<br>' +
      '<div style="margin-top:10px;padding-top:10px;border-top:1px solid var(--border);font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:.8px;margin-bottom:6px;font-family:\'DM Mono\'">Active Sections</div>' +
      (adminData.showAbout!==false?'âœ… ':'âŒ ')+'About &nbsp;' +
      (adminData.showService!==false?'âœ… ':'âŒ ')+'Services<br>' +
      (adminData.showGallery!==false?'âœ… ':'âŒ ')+'Gallery &nbsp;' +
      (adminData.showVideo!==false?'âœ… ':'âŒ ')+'Videos<br>' +
      (adminData.showPayment!==false?'âœ… ':'âŒ ')+'Payment &nbsp;' +
      (adminData.showEnquiry!==false?'âœ… ':'âŒ ')+'Enquiry';
  }

  // Chart
  var bars = f('chart-bars');
  if(bars){
    var vals = [220,310,180,450,390,510,310];
    var max = Math.max.apply(null,vals);
    bars.innerHTML = vals.map(function(v){
      return '<div class="chart-bar" style="height:'+(v/max*100)+'%" title="'+v+' views"></div>';
    }).join('');
  }
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// CLOSE MODALS ON BACKDROP CLICK
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
f('item-modal').addEventListener('click', function(e){ if(e.target===this) closeItemModal(); });
f('video-modal').addEventListener('click', function(e){ if(e.target===this) closeVideoModal(); });

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// INIT
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
loadData();
populateForms();
renderEnquiries();
updateDashboard();
</script>
</body>
</html>
